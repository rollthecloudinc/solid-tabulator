<form [formGroup]="contentForm" (ngSubmit)="submit()">

    <mat-dialog-content>

        <div>
            <mat-form-field>
                <mat-label>Binding</mat-label>
                <mat-select required formControlName="bindingOption">
                    <mat-option *ngFor="let bo of bindableOptions" [value]="bo">{{ bo }}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>

        <div>
            <mat-form-field>
                <mat-label>Query</mat-label>
                <input matInput formControlName="query" placeholder="Query to fetch data">
            </mat-form-field>
        </div>

        <div>
            <mat-form-field>
                <mat-label>Height</mat-label>
                <input matInput required formControlName="height" placeholder="Table Height">
            </mat-form-field>
        </div>

        <div>
            <mat-form-field>
                <mat-label>Layout</mat-label>
                <input matInput formControlName="layout" placeholder="Table Layout">
            </mat-form-field>
        </div>

        <div formArrayName="columns" class="columns-container">

            <div *ngFor="let column of columns.controls; let i = index" [formGroupName]="i" class="column-editor">

                <mat-form-field>
                    <mat-label>Title</mat-label>
                    <input matInput required formControlName="title" placeholder="Column Title">
                </mat-form-field>

                <mat-form-field>
                    <mat-label>Field</mat-label>
                    <input matInput required formControlName="field" placeholder="Data Field">
                </mat-form-field>

                <mat-form-field>
                    <mat-label>Formatter</mat-label>
                    <input matInput formControlName="formatter" placeholder="Data Formatter">
                </mat-form-field>

                <mat-form-field>
                    <mat-label>Sorter</mat-label>
                    <input matInput formControlName="sorter" placeholder="Data Sorter">
                </mat-form-field>

                <mat-form-field>
                    <mat-label>Horizontal Alignment</mat-label>
                    <input matInput formControlName="hozAlign" placeholder="Data Horizontal Alignment">
                </mat-form-field>

                <mat-form-field>
                    <mat-label>Width</mat-label>
                    <input matInput formControlName="width" placeholder="Column Width">
                </mat-form-field>

                <button mat-icon-button color="warn" (click)="removeColumn(i)" aria-label="Remove Column">
                    <mat-icon>delete</mat-icon>
                </button>

            </div>

            <div class="add-column-button">
                <button mat-raised-button color="primary" (click)="addColumn()" type="button">Add Column</button>
            </div>

        </div>

    </mat-dialog-content>

    <mat-dialog-actions>
        <button type="submit" mat-raised-button color="primary" [disabled]="!contentForm.valid">Save</button>
        <button mat-raised-button color="secondary" (click)="cancel()" type="button">Cancel</button>       
    </mat-dialog-actions>

</form>